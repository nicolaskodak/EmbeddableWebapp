WITH raw(pos_item_name, pos_option_group, pos_option_value, status) AS (
  VALUES
    ('+A套餐=紅茶(小)+薯條(小)', '', '', '無效'),
    ('+C套餐=紅茶(小)+雞塊(小)', '', '', '有效'),
    ('加購A套餐+紅茶(小)+薯條(小)', '', '', '有效'),
    ('加購B套餐+紅茶(小)+沙拉(中)', '', '', '有效'),
    ('加購C套餐+紅茶(小)+雞塊(小)', '', '', '有效'),
    ('低脂培根-吐司', '選堡體', '牛奶吐司', '有效'),
    ('低脂培根-吐司', '選堡體', '蕃茄吐司', '有效'),
    ('低脂培根-吐司', '', '', '有效'),
    ('嚴選拿鐵咖啡 L(500cc)', '', '', '有效'),
    ('嚴選拿鐵咖啡 M(400cc)', '', '', '有效'),
    ('嚴選美式咖啡 L(500cc)', '', '', '有效'),
    ('嚴選美式咖啡 M(400cc)', '', '', '有效'),
    ('培根起司蛋乳酪-磚壓', '選堡體', '牛奶吐司', '有效'),
    ('培根起司蛋乳酪-磚壓', '選堡體', '蕃茄吐司', '有效'),
    ('小熊兒童歡樂', '飲料換購', '(冰)蘋果醋飲(小)', '有效'),
    ('小熊兒童歡樂', '飲料換購', '紅茶(小)', '有效'),
    ('+B套餐=紅茶(小)+沙拉(中)', '', '', '有效'),
    ('起司蛋樂活堡+中杯拿鐵', '飲料換購', '拿鐵咖啡(中)', '有效'),
    ('速1.麥香雞堡+紅茶(小)+薯條(小)', '', '', '有效'),
    ('速2.黑胡椒豬排堡+紅茶(小)+薯條(小)', '', '', '有效'),
    ('速3.府城醬香豬排單響炒泡麵+紅茶(小)', '', '', '有效'),
    ('速4.經典原味鍋燒意麵+紅茶(小)', '', '', '有效'),
    ('速5.霸王鮮脆雞堡+紅茶(小)+薯條(小)', '', '', '有效'),
    ('速6.蕃茄豬排義大利麵+紅茶(小)+荷包蛋', '', '', '有效'),
    ('速7.白醬培根義大利麵+紅茶(小)+薯條(小)', '', '', '有效'),
    ('速8.鮪魚玉米吐司+紅茶(小)', '', '', '有效'),
    ('韓式泡菜豬排炒泡麵套餐', '', '', '有效'),
    ('韓式泡菜豬排炒泡麵套餐F', '', '', '有效'),
    ('韓式泡菜豬排炒泡麵套餐U', '', '', '有效'),
    ('韓式泡菜起司蛋餅套餐', '', '', '有效'),
    ('韓式泡菜起司蛋餅套餐F', '', '', '有效'),
    ('韓式泡菜起司蛋餅套餐U', '', '', '有效'),
    ('韓式泡菜部隊鍋套餐', '', '', '有效'),
    ('韓式泡菜部隊鍋套餐F', '', '', '有效'),
    ('韓式泡菜部隊鍋套餐U', '', '', '有效'),
    ('D-黑胡椒豬排好事堡+紅茶(大)', '選堡體', '好事堡', '有效'),
    ('歡樂香頌餐', '選堡體', '香頌堡', '有效'),
    ('海味花枝堡套餐(附紅茶)', '選堡體', '好事堡', '有效'),
    ('A-海老龍蝦沙拉吐司+紅茶(大)', '選堡體', '牛奶吐司', '有效'),
    ('輕食舒肥香草嫩雞胸時尚餐+飲料', '', '', '有效'),
    ('鮮蝦優格水果沙拉+飲料', '', '', '有效'),
    ('巧達玉米濃湯(小)(季節商品)', '', '', '有效'),
    ('巧達玉米濃湯(中)(季節商品)', '', '', '有效'),
    ('乳酪絲豬排單響炒泡麵', '', '', '有效'),
    ('乳酪絲豬排雙響炒泡麵', '', '', '有效'),
    ('低酯培根-吐司', '選堡體', '牛奶吐司', '有效'),
    ('低酯培根-吐司', '選堡體', '蕃茄吐司', '有效'),
    ('低酯培根-吐司', '', '', '有效'),
    ('凱薩鮮脆雞三明治', '', '', '有效'),
    ('北海牛奶起司湯泡麵', '', '', '有效'),
    ('原味蛋餅', '', '', '有效'),
    ('台灣沙茶豬肉鍋燒意麵', '', '', '有效'),
    ('培根蛋餅', '', '', '有效'),
    ('壽喜燒牛肉-米堡', '', '', '有效'),
    ('壽喜燒牛肉蛋餅', '', '', '有效'),
    ('川味椒麻豬排單響炒泡麵', '', '', '有效'),
    ('川味椒麻豬排雙響炒泡麵', '', '', '有效'),
    ('帶財黃金薯餅', '', '', '有效'),
    ('府城醬香豬排單響炒泡麵', '', '', '有效'),
    ('府城醬香豬排雙響炒泡麵', '', '', '有效'),
    ('德式香腸', '', '', '有效'),
    ('懷舊小點拼盤', '', '', '有效'),
    ('日式梅醬豬排乳酪-磚壓', '選堡體', '牛奶吐司', '有效'),
    ('日式梅醬豬排乳酪-磚壓', '選堡體', '蕃茄吐司', '有效'),
    ('日式梅醬豬排乳酪-磚壓', '', '', '有效'),
    ('日式梅醬豬排堡', '選堡體', '好事堡', '有效'),
    ('日式梅醬豬排堡', '選堡體', '樂活堡', '有效'),
    ('日式梅醬豬排堡', '選堡體', '紫米堡', '有效'),
    ('日式梅醬豬排堡', '', '', '有效'),
    ('春芽玉露青茶 L', '', '', '有效'),
    ('春芽玉露青茶 M', '', '', '有效'),
    ('春芽玉露青茶 S', '', '', '有效'),
    ('會員禮-紅茶(中)', '', '', '有效'),
    ('月型薯條', '', '', '有效'),
    ('松葉薯球', '', '', '有效'),
    ('柳橙汁 L', '', '', '有效'),
    ('柳橙汁 M', '', '', '有效'),
    ('柳橙汁 S', '', '', '有效'),
    ('椰香奶酥-甜磚壓', '選堡體', '牛奶吐司', '有效'),
    ('椰香奶酥-甜磚壓', '選堡體', '蕃茄吐司', '有效'),
    ('椰香奶酥-甜磚壓', '', '', '有效'),
    ('椰香奶酥抹醬吐司', '選堡體', '牛奶吐司', '有效'),
    ('椰香奶酥抹醬吐司', '選堡體', '蕃茄吐司', '有效'),
    ('椰香奶酥抹醬吐司', '選堡體', '蕃茄厚片', '有效'),
    ('椰香奶酥抹醬吐司', '', '', '有效'),
    ('極濃芋頭糕', '', '', '有效'),
    ('榛果拿鐵 L(500cc)', '', '', '有效'),
    ('榛果拿鐵 M(400cc)', '', '', '有效'),
    ('樂活迪克蛋盤餐', '', '', '有效'),
    ('歐姆蛋起司蔬果', '', '', '有效'),
    ('歐姆蛋起司蔬果香頌堡', '', '', '有效'),
    ('水水蔬果乳酪-磚壓', '選堡體', '牛奶吐司', '有效'),
    ('水水蔬果乳酪-磚壓', '選堡體', '蕃茄吐司', '有效'),
    ('水水蔬果乳酪-磚壓', '', '', '有效'),
    ('水蜜桃可爾必思 L', '', '', '有效'),
    ('水蜜桃可爾必思 M', '', '', '有效'),
    ('水蜜桃可爾必思 S', '', '', '有效'),
    ('法式吐司盤餐', '飲料換購', '紅茶(小)', '有效'),
    ('法式吐司盤餐', '飲料換購', '蘋果醋(小)', '有效'),
    ('法式藍帶豬排-吐司', '選堡體', '牛奶吐司', '有效'),
    ('法式藍帶豬排-吐司', '選堡體', '蕃茄吐司', '有效'),
    ('法式藍帶豬排-吐司', '', '', '有效'),
    ('法式藍帶豬排丼飯', '', '', '有效'),
    ('法式藍帶豬排堡', '選堡體', '好事堡', '有效'),
    ('法式藍帶豬排堡', '選堡體', '紫米堡', '有效'),
    ('法式藍帶豬排堡', '選堡體', '樂活堡', '有效'),
    ('法式藍帶豬排堡', '', '', '有效'),
    ('活力起司歐姆蛋堡', '選堡體', '好事堡', '有效'),
    ('活力起司歐姆蛋堡', '選堡體', '紫米堡', '有效'),
    ('活力起司歐姆蛋堡', '選堡體', '樂活堡', '有效'),
    ('活力起司歐姆蛋堡', '', '', '有效'),
    ('海味花枝-米堡', '', '', '有效'),
    ('海老佐龍蝦沙拉-吐司', '選堡體', '牛奶吐司', '有效'),
    ('海老佐龍蝦沙拉-吐司', '選堡體', '蕃茄吐司', '有效'),
    ('海老佐龍蝦沙拉-吐司', '', '', '有效'),
    ('海老佐龍蝦沙拉-米堡', '', '', '有效'),
    ('海老佐龍蝦沙拉堡', '選堡體', '好事堡', '有效'),
    ('海老佐龍蝦沙拉堡', '選堡體', '紫米堡', '有效'),
    ('海老佐龍蝦沙拉堡', '選堡體', '樂活堡', '有效'),
    ('海老佐龍蝦沙拉堡', '', '', '有效'),
    ('海老龍蝦丼飯', '', '', '有效'),
    ('港式西多士盤餐', '飲料換購', '(冰)蘋果醋飲(小)', '有效'),
    ('港式西多士盤餐', '飲料換購', '紅茶(小)', '有效'),
    ('港港好蘿蔔糕', '', '', '有效'),
    ('濃郁巧克力-甜磚壓', '選堡體', '牛奶吐司', '有效'),
    ('濃郁巧克力-甜磚壓', '選堡體', '蕃茄吐司', '有效'),
    ('濃郁巧克力-甜磚壓', '', '', '有效'),
    ('濃郁巧克力抹醬吐司', '選堡體', '牛奶吐司', '有效'),
    ('濃郁巧克力抹醬吐司', '選堡體', '蕃茄吐司', '有效'),
    ('濃郁巧克力抹醬吐司', '選堡體', '蕃茄厚片', '有效'),
    ('濃郁巧克力抹醬吐司', '', '', '有效'),
    ('火腿-吐司', '選堡體', '牛奶吐司', '有效'),
    ('火腿-吐司', '選堡體', '蕃茄吐司', '有效'),
    ('火腿-吐司', '', '', '有效'),
    ('火腿玉米蛋乳酪-磚壓', '選堡體', '牛奶吐司', '有效'),
    ('火腿玉米蛋乳酪-磚壓', '選堡體', '蕃茄吐司', '有效'),
    ('火腿玉米蛋乳酪-磚壓', '', '', '有效'),
    ('火腿蛋餅', '', '', '有效'),
    ('火腿起司三明治', '', '', '有效'),
    ('火腿起司乳酪-磚壓', '選堡體', '牛奶吐司', '有效'),
    ('火腿起司乳酪-磚壓', '選堡體', '蕃茄吐司', '有效'),
    ('火腿起司乳酪-磚壓', '', '', '有效'),
    ('炸花枝排', '', '', '有效'),
    ('炸藍帶豬排', '', '', '有效'),
    ('煎蛋-吐司', '選堡體', '牛奶吐司', '有效'),
    ('煎蛋-吐司', '選堡體', '蕃茄吐司', '有效'),
    ('煎蛋-吐司', '', '', '有效'),
    ('熱狗', '', '', '有效'),
    ('燻雞沙拉', '', '', '有效'),
    ('玉米蛋餅', '', '', '有效'),
    ('現炸卡拉雞', '', '', '有效'),
    ('甜磚壓-椰香奶酥', '', '', '有效'),
    ('甜磚壓-草莓果醬', '', '', '有效'),
    ('甜磚壓-香濃花生', '', '', '有效'),
    ('田園珍豬堡', '選堡體', '好事堡', '有效'),
    ('田園珍豬堡', '選堡體', '紫米堡', '有效'),
    ('田園珍豬堡', '選堡體', '樂活堡', '有效'),
    ('田園珍豬堡', '', '', '有效'),
    ('白玉珍珠薏仁漿 L', '', '', '有效'),
    ('白玉珍珠薏仁漿 M', '', '', '有效'),
    ('白玉珍珠薏仁漿 S', '', '', '有效'),
    ('白醬培根義大利麵', '', '', '有效'),
    ('紐約起司牛-吐司', '選堡體', '牛奶吐司', '有效'),
    ('紐約起司牛-吐司', '選堡體', '蕃茄吐司', '有效'),
    ('紐約起司牛-吐司', '', '', '有效'),
    ('紐約起司牛肉堡', '選堡體', '好事堡', '有效'),
    ('紐約起司牛肉堡', '選堡體', '紫米堡', '有效'),
    ('紐約起司牛肉堡', '選堡體', '樂活堡', '有效'),
    ('紐約起司牛肉堡', '', '', '有效'),
    ('經典原味鍋燒意麵', '', '', '有效'),
    ('美式綠卡牛肉好事堡', '選堡體', '好事堡', '有效'),
    ('美式綠卡豬排好事堡', '選堡體', '好事堡', '有效'),
    ('美式雙培根盤餐', '', '', '有效'),
    ('肉鬆-吐司', '選堡體', '牛奶吐司', '有效'),
    ('肉鬆-吐司', '選堡體', '蕃茄吐司', '有效'),
    ('肉鬆-吐司', '', '', '有效'),
    ('肉鬆三明治', '', '', '有效'),
    ('肉鬆蛋餅', '', '', '有效'),
    ('草莓果醬-甜磚壓', '選堡體', '牛奶吐司', '有效'),
    ('草莓果醬-甜磚壓', '選堡體', '蕃茄吐司', '有效'),
    ('草莓果醬-甜磚壓', '', '', '有效'),
    ('草莓果醬抹醬吐司', '選堡體', '牛奶吐司', '有效'),
    ('草莓果醬抹醬吐司', '選堡體', '蕃茄吐司', '有效'),
    ('草莓果醬抹醬吐司', '選堡體', '蕃茄厚片', '有效'),
    ('草莓果醬抹醬吐司', '', '', '有效'),
    ('荷包蛋', '', '', '有效'),
    ('蔬果沙拉', '', '', '有效'),
    ('蔬菜蛋餅', '', '', '有效'),
    ('蕃茄義大利麵', '', '', '有效'),
    ('薯餅蛋餅', '', '', '有效'),
    ('蘋果醋飲(L)', '', '', '有效'),
    ('蘋果醋飲(M)', '', '', '有效'),
    ('蘋果醋飲(S)', '', '', '有效'),
    ('蛋堡', '', '', '有效'),
    ('蛋堡', '選堡體', '好事堡', '有效'),
    ('蛋堡', '選堡體', '紫米堡', '有效'),
    ('蛋堡', '選堡體', '樂活堡', '有效'),
    ('豆漿紅茶 L', '', '', '有效'),
    ('豆漿紅茶 M', '', '', '有效'),
    ('豆漿紅茶S', '', '', '有效'),
    ('豬排總匯吐司拼盤', '飲料換購', '(冰)蘋果醋飲(小)', '有效'),
    ('豬排總匯吐司拼盤', '飲料換購', '紅茶(小)', '有效'),
    ('起司蛋餅', '', '', '有效'),
    ('輕食舒肥香草嫩雞胸時尚餐', '', '', '有效'),
    ('醬燒黑胡椒豬肉-米堡', '', '', '有效'),
    ('阿華田 L', '', '', '有效'),
    ('阿華田 M', '', '', '有效'),
    ('阿華田 S', '', '', '有效'),
    ('阿薩姆奶茶 L', '', '', '有效'),
    ('阿薩姆奶茶 M', '', '', '有效'),
    ('阿薩姆奶茶S', '', '', '有效'),
    ('阿薩姆紅茶 L', '', '', '有效'),
    ('阿薩姆紅茶 M', '', '', '有效'),
    ('阿薩姆紅茶S', '', '', '有效'),
    ('阿薩姆鮮奶茶 L', '', '', '有效'),
    ('阿薩姆鮮奶茶 M', '', '', '有效'),
    ('阿薩姆鮮奶茶 S', '', '', '有效'),
    ('陽光加州蔬果吐司', '選堡體', '牛奶吐司', '有效'),
    ('陽光加州蔬果吐司', '選堡體', '蕃茄吐司', '有效'),
    ('陽光加州蔬果吐司', '', '', '有效'),
    ('陽光加州蔬果堡', '選堡體', '好事堡', '有效'),
    ('陽光加州蔬果堡', '選堡體', '紫米堡', '有效'),
    ('陽光加州蔬果堡', '選堡體', '樂活堡', '有效'),
    ('陽光加州蔬果堡', '', '', '有效'),
    ('雙囍總匯蛋-吐司', '選堡體', '牛奶吐司', '有效'),
    ('雙囍總匯蛋-吐司', '選堡體', '蕃茄吐司', '有效'),
    ('雙囍總匯蛋-吐司', '', '', '有效'),
    ('霸王鮮脆雞-吐司', '選堡體', '牛奶吐司', '有效'),
    ('霸王鮮脆雞-吐司', '選堡體', '蕃茄吐司', '有效'),
    ('霸王鮮脆雞-吐司', '', '', '有效'),
    ('霸王鮮脆雞堡', '選堡體', '好事堡', '有效'),
    ('霸王鮮脆雞堡', '選堡體', '紫米堡', '有效'),
    ('霸王鮮脆雞堡', '選堡體', '樂活堡', '有效'),
    ('霸王鮮脆雞堡', '', '', '有效'),
    ('青醬海味花枝義大利麵', '', '', '有效'),
    ('非基因改造豆漿 L', '', '', '有效'),
    ('非基因改造豆漿 M', '', '', '有效'),
    ('非基因改造豆漿 S', '', '', '有效'),
    ('韓國辣味豬排單響炒泡麵', '', '', '有效'),
    ('韓國辣味豬排雙響炒泡麵', '', '', '有效'),
    ('香濃花生-甜磚壓', '選堡體', '牛奶吐司', '有效'),
    ('香濃花生-甜磚壓', '選堡體', '蕃茄吐司', '有效'),
    ('香濃花生-甜磚壓', '', '', '有效'),
    ('香濃花生抹醬吐司', '選堡體', '牛奶吐司', '有效'),
    ('香濃花生抹醬吐司', '選堡體', '蕃茄吐司', '有效'),
    ('香濃花生抹醬吐司', '選堡體', '蕃茄厚片', '有效'),
    ('香濃花生抹醬吐司', '', '', '有效'),
    ('鬆餅', '', '', '有效'),
    ('鮪魚三明治', '', '', '有效'),
    ('鮪魚玉米-吐司', '選堡體', '牛奶吐司', '有效'),
    ('鮪魚玉米-吐司', '選堡體', '蕃茄吐司', '有效'),
    ('鮪魚玉米-吐司', '', '', '有效'),
    ('鮪魚玉米乳酪-磚壓', '選堡體', '牛奶吐司', '有效'),
    ('鮪魚玉米乳酪-磚壓', '選堡體', '蕃茄吐司', '有效'),
    ('鮪魚玉米乳酪-磚壓', '', '', '有效'),
    ('鮪魚玉米蛋餅', '', '', '有效'),
    ('鮮蝦優格水果沙拉', '', '', '有效'),
    ('麥克雞塊', '', '', '有效'),
    ('麥香雞-米堡', '', '', '有效'),
    ('麥香雞堡', '選堡體', '樂活堡', '有效'),
    ('麥香雞堡', '選堡體', '紫米堡', '有效'),
    ('麥香雞堡', '選堡體', '好事堡', '有效'),
    ('麥香雞堡', '', '', '有效'),
    ('麥香雞蔬果', '選堡體', '香頌堡', '有效'),
    ('黃金燻雞起司-米堡', '', '', '有效'),
    ('黃金燻雞起司蛋餅', '', '', '有效'),
    ('黃金脆薯條', '', '', '有效'),
    ('黃金薯餅起司堡', '選堡體', '好事堡', '有效'),
    ('黃金薯餅起司堡', '選堡體', '紫米堡', '有效'),
    ('黃金薯餅起司堡', '選堡體', '樂活堡', '有效'),
    ('黃金薯餅起司堡', '', '', '有效'),
    ('黑胡椒蘑菇義大利麵', '', '', '有效'),
    ('黑胡椒豬排-吐司', '選堡體', '牛奶吐司', '有效'),
    ('黑胡椒豬排-吐司', '選堡體', '蕃茄吐司', '有效'),
    ('黑胡椒豬排-吐司', '', '', '有效'),
    ('黑胡椒豬排乳酪-磚壓', '選堡體', '牛奶吐司', '有效'),
    ('黑胡椒豬排乳酪-磚壓', '選堡體', '蕃茄吐司', '有效'),
    ('黑胡椒豬排乳酪-磚壓', '', '', '有效'),
    ('黑胡椒豬排堡', '選堡體', '好事堡', '有效'),
    ('黑胡椒豬排堡', '選堡體', '紫米堡', '有效'),
    ('黑胡椒豬排堡', '選堡體', '樂活堡', '有效'),
    ('黑胡椒豬排堡', '', '', '有效'),
    ('黑胡椒豬排好事堡+中杯紅茶', '飲料換購', '紅茶(中)', '有效'),
    ('黑胡椒豬排蛋餅', '', '', '有效'),
    ('龍蝦沙拉乳酪-磚壓', '選堡體', '牛奶吐司', '有效'),
    ('龍蝦沙拉乳酪-磚壓', '選堡體', '蕃茄吐司', '有效'),
    ('龍蝦沙拉乳酪-磚壓', '', '', '有效'),
    ('日式梅醬豬排香頌堡', '選堡體', '香頌堡', '有效'),
    ('日式梅醬豬排香頌堡', '選堡體', '帕瑪森堡', '有效'),
    ('海老佐龍蝦沙拉香頌堡', '選堡體', '香頌堡', '有效'),
    ('海老佐龍蝦沙拉香頌堡', '選堡體', '帕瑪森堡', '有效'),
    ('麥香雞蔬果香頌堡', '選堡體', '香頌堡', '有效'),
    ('麥香雞蔬果香頌堡', '選堡體', '帕瑪森堡', '有效'),
    ('燻雞香頌堡', '選堡體', '香頌堡', '有效'),
    ('燻雞香頌堡', '選堡體', '帕瑪森堡', '有效'),
    ('黃金薯餅起司香頌堡', '選堡體', '香頌堡', '有效'),
    ('黃金薯餅起司香頌堡', '選堡體', '帕瑪森堡', '有效'),
    ('海味花枝香頌堡', '選堡體', '香頌堡', '有效'),
    ('海味花枝香頌堡', '選堡體', '帕瑪森堡', '有效'),
    ('麥香雞三明治', '', '', '有效'),
    ('黑胡椒豬排三明治', '', '', '有效'),
    ('草莓牛乳', '', '', '有效'),
    ('麥芽牛乳', '', '', '有效'),
    ('巧克力牛乳', '', '', '有效'),
    ('陽光蔬果三明治', '', '', '有效'),
    ('起司三明治', '', '', '有效'),
    ('帕瑪森豬排', '選堡體', '帕瑪森堡', '有效'),
    ('帕瑪森豬排', '選堡體', '香頌堡', '有效'),
    ('甜磚壓-濃郁巧克力', '選堡體', '牛奶吐司', '有效'),
    ('甜磚壓-濃郁巧克力', '選堡體', '蕃茄吐司', '有效'),
    ('甜磚壓-濃郁巧克力', '', '', '有效'),
    ('磚壓-火腿玉米蛋乳酪', '選堡體', '牛奶吐司', '有效'),
    ('磚壓-火腿玉米蛋乳酪', '選堡體', '蕃茄吐司', '有效'),
    ('磚壓-火腿玉米蛋乳酪', '', '', '有效'),
    ('磚壓-培根起司蛋乳酪', '選堡體', '牛奶吐司', '有效'),
    ('磚壓-培根起司蛋乳酪', '選堡體', '蕃茄吐司', '有效'),
    ('磚壓-培根起司蛋乳酪', '', '', '有效'),
    ('台灣味拼盤', '', '', '有效'),
    ('原味牛乳', '', '', '有效'),
    ('黑胡椒義大利麵', '', '', '有效'),
    ('蘋果牛乳', '', '', '有效'),
    ('醬燒黑胡椒豬排-米堡', '', '', '有效'),
    ('經典十三香鍋燒意麵(內含中藥包)', '', '', '有效'),
    ('御膳十三香湯泡麵(內含中藥包)', '', '', '有效'),
    ('經典十三香鍋燒意麵', '', '', '有效'),
    ('御膳十三香湯泡麵', '', '', '有效'),
    ('玉米濃湯(季節商品)', '', '', '有效'),
    ('麥香雞好事堡', '選堡體', '好事堡', '有效'),
    ('麥香雞好事堡', '選堡體', '樂活堡', '有效'),
    ('麥香雞好事堡', '選堡體', '紫米堡', '有效')
),
clean AS (
  SELECT
    BTRIM(pos_item_name) AS pos_item_name,
    NULLIF(BTRIM(pos_option_group), '') AS pos_option_group,
    NULLIF(BTRIM(pos_option_value), '') AS pos_option_value,
    BTRIM(status) AS status
  FROM raw
),
ins_group AS (
  INSERT INTO tb_mgmt.pos_option_group (pos_option_group)
  SELECT DISTINCT c.pos_option_group
  FROM clean c
  WHERE c.pos_option_group IS NOT NULL
  ON CONFLICT (pos_option_group) DO NOTHING
  RETURNING id, pos_option_group
),
ins_value AS (
  INSERT INTO tb_mgmt.pos_option_value (pos_option_value)
  SELECT DISTINCT c.pos_option_value
  FROM clean c
  WHERE c.pos_option_value IS NOT NULL
  ON CONFLICT (pos_option_value) DO NOTHING
  RETURNING id, pos_option_value
),
ins_status AS (
  INSERT INTO tb_mgmt.status (status)
  SELECT DISTINCT c.status
  FROM clean c
  WHERE c.status IS NOT NULL
  ON CONFLICT (status) DO NOTHING
  RETURNING id, status
),
resolved AS (
  SELECT
    c.pos_item_name,
    g.id AS pos_option_group_id,
    v.id AS pos_option_value_id,
    s.id AS status_id
  FROM clean c
  LEFT JOIN tb_mgmt.pos_option_group g
    ON g.pos_option_group = c.pos_option_group
  LEFT JOIN tb_mgmt.pos_option_value v
    ON v.pos_option_value = c.pos_option_value
  JOIN tb_mgmt.status s
    ON s.status = c.status
)
INSERT INTO tb_mgmt.pos_items (pos_item_name, pos_option_group_id, pos_option_value_id, status_id)
SELECT
  r.pos_item_name,
  r.pos_option_group_id,
  r.pos_option_value_id,
  r.status_id
FROM resolved r;